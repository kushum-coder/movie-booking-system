{% extends "layout.twig" %}

{% block content %}
<h2>{{ heading }}</h2>

<form method="post" class="movie-form">

    <input type="hidden" name="csrf" value="{{ csrf }}">

    <label>Title</label>
    <input name="title" value="{{ movie.title|default('') }}" required>

    <label>Genre</label>
    <select name="genre_id" required>
        <option value="">-- Select Genre --</option>
        {% for genre in genres %}
            <option value="{{ genre.id }}"
                {% if movie.genre_id is defined and movie.genre_id == genre.id %}selected{% endif %}>
                {{ genre.name }}
            </option>
        {% endfor %}
    </select>

    <label>Cast</label>
    <select name="cast_id">
        <option value="">-- Select Cast --</option>
        {% for cast in casts %}
            <option value="{{ cast.id }}"
                {% if movie.cast_id is defined and movie.cast_id == cast.id %}selected{% endif %}>
                {{ cast.name }}
            </option>
        {% endfor %}
    </select>

    <label>Release Year</label>
    <input name="release_year" type="number" min="1900" max="2100"
           value="{{ movie.release_year|default('') }}" required>

    <label>Rating (0â€“10)</label>
    <input name="rating" type="number" step="0.1" min="0" max="10"
           value="{{ movie.rating|default('') }}">

    <button>{{ button }}</button>
</form>
{% endblock %}
