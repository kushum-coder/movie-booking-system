{% extends "layout.twig" %}

{% block title %}
    {{ cast.id is defined ? 'Edit Cast Member' : 'Add Cast Member' }}
{% endblock %}

{% block content %}
<div class="card">
    <h2>{{ cast.id is defined ? 'Edit Cast Member' : 'Add Cast Member' }}</h2>

    {% if errors is defined %}
        {% for error in errors %}
            <p class="error">{{ error }}</p>
        {% endfor %}
    {% endif %}

    <form method="post" autocomplete="off">
        <!-- CSRF TOKEN (FIXES ERROR) -->
        <input type="hidden" name="csrf" value="{{ csrf }}">

        <label>Cast Name</label>
        <input
            type="text"
            name="name"
            value="{{ cast.name|default('') }}"
            pattern="[A-Za-z ]{2,60}"
            title="Only letters and spaces (min 2 characters)"
            required
        >

        <button type="submit">
            {{ cast.id is defined ? 'Update' : 'Add' }}
        </button>

        <a href="./public/cast/index.php" style="margin-left:10px;">Cancel</a>
    </form>
</div>
{% endblock %}
